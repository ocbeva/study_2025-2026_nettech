<h1 id="цель-работы">Цель работы</h1>
<p>Изучение принципов распределения и настройки адресного пространства
на устройствах сети.</p>
<h1 id="разбиение-ipv4-сетей-на-подсети">Разбиение IPv4-сетей на
подсети</h1>
<h2 id="сеть-172.16.20.024">Сеть 172.16.20.0/24</h2>
<h3 id="основные-характеристики-исходной-сети">Основные характеристики
исходной сети</h3>
<ul>
<li>Префикс: <strong>/24</strong></li>
<li>Маска: <strong>255.255.255.0</strong></li>
<li>Адрес сети: <strong>172.16.20.0</strong></li>
<li>Broadcast-адрес: <strong>172.16.20.255</strong></li>
<li>Число адресов в сети: 2^(32–24) = 2^8 = <strong>256</strong></li>
<li>Число адресов узлов: 256 – 2 = <strong>254</strong></li>
<li>Диапазон адресов узлов: <strong>172.16.20.1 –
172.16.20.254</strong></li>
</ul>
<p>Если рассматривать эту сеть как часть класса B (исходный префикс
/16), то число возможных подсетей с префиксом /24: - Количество
подсетей: 2^(24–16) = <strong>256</strong></p>
<figure id="fig:001">
<img src="image/1.png" style="width:80.0%"
alt="Основные Характеристики" />
<figcaption aria-hidden="true">Основные Характеристики</figcaption>
</figure>
<h3 id="разбиение-на-три-подсети-126-62-62-узла">Разбиение на три
подсети (126, 62, 62 узла)</h3>
<p>Требуемое количество узлов:</p>
<ul>
<li>Подсеть 1: 126 узлов → нужно минимум 7 бит для хостов<br />
2^7 – 2 = 126 → префикс <strong>/25</strong></li>
<li>Подсеть 2: 62 узла → нужно 6 бит<br />
2^6 – 2 = 62 → префикс <strong>/26</strong></li>
<li>Подсеть 3: 62 узла → тоже <strong>/26</strong></li>
</ul>
<p>Размещаем подсети последовательно внутри 172.16.20.0/24 (от меньшего
адреса к большему).</p>
<h4 id="подсеть-1-126-узлов">Подсеть 1 (126 узлов)</h4>
<ul>
<li>Адрес сети: <strong>172.16.20.0/25</strong></li>
<li>Маска: <strong>255.255.255.128</strong></li>
<li>Диапазон узлов: <strong>172.16.20.1 – 172.16.20.126</strong></li>
<li>Broadcast: <strong>172.16.20.127</strong></li>
<li>Число адресов узлов: <strong>126</strong></li>
</ul>
<figure id="fig:001">
<img src="image/2.png" style="width:80.0%" alt="Подсеть А" />
<figcaption aria-hidden="true">Подсеть А</figcaption>
</figure>
<h4 id="подсеть-2-62-узла">Подсеть 2 (62 узла)</h4>
<p>Оставшаяся часть исходной сети — 172.16.20.128/25. Делим её на две
/26.</p>
<p>Первая /26:</p>
<ul>
<li>Адрес сети: <strong>172.16.20.128/26</strong></li>
<li>Маска: <strong>255.255.255.192</strong></li>
<li>Диапазон узлов: <strong>172.16.20.129 – 172.16.20.190</strong></li>
<li>Broadcast: <strong>172.16.20.191</strong></li>
<li>Число адресов узлов: <strong>62</strong></li>
</ul>
<figure id="fig:001">
<img src="image/3.png" style="width:80.0%" alt="подсеть Б" />
<figcaption aria-hidden="true">подсеть Б</figcaption>
</figure>
<h4 id="подсеть-3-62-узла">Подсеть 3 (62 узла)</h4>
<p>Вторая /26 из того же диапазона:</p>
<ul>
<li>Адрес сети: <strong>172.16.20.192/26</strong></li>
<li>Маска: <strong>255.255.255.192</strong></li>
<li>Диапазон узлов: <strong>172.16.20.193 – 172.16.20.254</strong></li>
<li>Broadcast: <strong>172.16.20.255</strong></li>
<li>Число адресов узлов: <strong>62</strong></li>
</ul>
<figure id="fig:001">
<img src="image/4.png" style="width:80.0%" alt="Подсеть С" />
<figcaption aria-hidden="true">Подсеть С</figcaption>
</figure>
<h2 id="сеть-10.10.1.6426">Сеть 10.10.1.64/26</h2>
<h3 id="характеристики-исходной-сети-10.10.1.6426">Характеристики
исходной сети 10.10.1.64/26</h3>
<ul>
<li>Префикс: <strong>/26</strong></li>
<li>Маска: <strong>255.255.255.192</strong></li>
<li>Адрес сети: <strong>10.10.1.64</strong></li>
<li>Broadcast-адрес: <strong>10.10.1.127</strong></li>
<li>Число адресов в сети: 2^(32–26) = 2^6 = <strong>64</strong></li>
<li>Число адресов узлов: 64 – 2 = <strong>62</strong></li>
<li>Диапазон адресов узлов: <strong>10.10.1.65 –
10.10.1.126</strong></li>
</ul>
<p>Если считать, что базовая сеть — 10.10.1.0/24, то с префиксом /26 это
разбиение на: - Количество возможных подсетей: 2^(26–24) = <strong>4
подсети</strong><br />
(10.10.1.0/26, 10.10.1.64/26, 10.10.1.128/26, 10.10.1.192/26)</p>
<figure id="fig:001">
<img src="image/5.png" style="width:80.0%" alt="сеть 2" />
<figcaption aria-hidden="true">сеть 2</figcaption>
</figure>
<h3 id="выделение-подсети-на-30-узлов-внутри-10.10.1.6426">Выделение
подсети на 30 узлов внутри 10.10.1.64/26</h3>
<p>Нужно 30 узлов → 2^5 – 2 = 30 → префикс <strong>/27</strong>.</p>
<p>Сеть 10.10.1.64/26 (64–127) делится на две /27:</p>
<ol type="1">
<li>10.10.1.64/27 (64–95)<br />
</li>
<li>10.10.1.96/27 (96–127)</li>
</ol>
<p>Выберем первую, с минимальным адресом.</p>
<p><strong>Искомая подсеть (на 30 узлов):</strong></p>
<ul>
<li>Адрес сети: <strong>10.10.1.64/27</strong></li>
<li>Маска: <strong>255.255.255.224</strong></li>
<li>Число адресов в подсети: 2^(32–27) = 32</li>
<li>Число адресов узлов: 32 – 2 = <strong>30</strong></li>
<li>Диапазон узлов: <strong>10.10.1.65 – 10.10.1.94</strong></li>
<li>Broadcast: <strong>10.10.1.95</strong></li>
</ul>
<figure id="fig:001">
<img src="image/6.png" style="width:80.0%" alt="выделение 30 узлов" />
<figcaption aria-hidden="true">выделение 30 узлов</figcaption>
</figure>
<h2 id="сеть-10.10.1.026">Сеть 10.10.1.0/26</h2>
<h3 id="характеристики-сети-10.10.1.026">Характеристики сети
10.10.1.0/26</h3>
<ul>
<li>Префикс: <strong>/26</strong></li>
<li>Маска: <strong>255.255.255.192</strong></li>
<li>Адрес сети: <strong>10.10.1.0</strong></li>
<li>Broadcast-адрес: <strong>10.10.1.63</strong></li>
<li>Число адресов в сети: 2^(32–26) = 64</li>
<li>Число адресов узлов: 64 – 2 = <strong>62</strong></li>
<li>Диапазон адресов узлов: <strong>10.10.1.1 – 10.10.1.62</strong></li>
</ul>
<p>В пределах 10.10.1.0/24 при маске /26 также возможны <strong>4
подсети</strong> (0/26, 64/26, 128/26, 192/26).</p>
<figure id="fig:001">
<img src="image/7.png" style="width:80.0%" alt="Сеть 10.10.1.0/26" />
<figcaption aria-hidden="true">Сеть 10.10.1.0/26</figcaption>
</figure>
<h3 id="выделение-подсети-на-14-узлов">Выделение подсети на 14
узлов</h3>
<p>Нужно 14 узлов → 2^4 – 2 = 14 → префикс <strong>/28</strong>.</p>
<p>Сеть 10.10.1.0/26 (диапазон 0–63) делится на четыре /28:</p>
<ol type="1">
<li>10.10.1.0/28 (0–15)<br />
</li>
<li>10.10.1.16/28 (16–31)<br />
</li>
<li>10.10.1.32/28 (32–47)<br />
</li>
<li>10.10.1.48/28 (48–63)</li>
</ol>
<p>Выберем первую.</p>
<p><strong>Искомая подсеть (на 14 узлов):</strong></p>
<ul>
<li>Адрес сети: <strong>10.10.1.0/28</strong></li>
<li>Маска: <strong>255.255.255.240</strong></li>
<li>Число адресов в подсети: 16</li>
<li>Число адресов узлов: 16 – 2 = <strong>14</strong></li>
<li>Диапазон узлов: <strong>10.10.1.1 – 10.10.1.14</strong></li>
<li>Broadcast: <strong>10.10.1.15</strong></li>
</ul>
<figure id="fig:001">
<img src="image/8.png" style="width:80.0%" alt="Выделение 14 узлов" />
<figcaption aria-hidden="true">Выделение 14 узлов</figcaption>
</figure>
<h1 id="разбиение-ipv6-сети-на-подсети">Разбиение IPv6-сети на
подсети</h1>
<h2 id="сеть-2001db8c0de48">Сеть 2001:db8:c0de::/48</h2>
<h3 id="характеристика-исходной-сети">Характеристика исходной сети</h3>
<p>Адрес в полной форме:</p>
<ul>
<li>2001:0db8:c0de:0000:0000:0000:0000:0000</li>
</ul>
<p>Параметры сети:</p>
<ul>
<li>Префикс: /48<br />
</li>
<li>Маска (в двоичном виде): 48 единиц и 80 нулей<br />
</li>
<li>Часть сети: первые три блокa (hextet) —
<code>2001:0db8:c0de</code><br />
</li>
<li>Диапазон адресов внутри префикса:
<ul>
<li>минимальный: 2001:db8:c0de:0:0:0:0:0<br />
</li>
<li>максимальный: 2001:db8:c0de:ffff:ffff:ffff:ffff:ffff</li>
</ul></li>
</ul>
<p>В IPv6 нет broadcast-адреса, вместо него используется многоадресная
рассылка.<br />
Однако «краевыми» адресами диапазона считаются показанные выше
минимальный и максимальный адрес.</p>
<h3
id="разбиение-на-2-подсети-с-использованием-идентификатора-подсети">Разбиение
на 2 подсети с использованием идентификатора подсети</h3>
<p>Считаем, что для идентификатора подсети используются биты с 49-го по
64-й (четвёртый hextet).<br />
Добавляем один бит к префиксу: /49. Это даёт две подсети:</p>
<ol type="1">
<li>Подсеть 1:
<ul>
<li>Адрес сети: 2001:db8:c0de:0000::/49<br />
</li>
<li>Диапазон адресов:
<ul>
<li>от 2001:db8:c0de:0:0:0:0:0<br />
</li>
<li>до 2001:db8:c0de:7fff:ffff:ffff:ffff:ffff</li>
</ul></li>
</ul></li>
<li>Подсеть 2:
<ul>
<li>Адрес сети: 2001:db8:c0de:8000::/49<br />
</li>
<li>Диапазон адресов:
<ul>
<li>от 2001:db8:c0de:8000:0:0:0:0<br />
</li>
<li>до 2001:db8:c0de:ffff:ffff:ffff:ffff:ffff</li>
</ul></li>
</ul></li>
</ol>
<p>Интерпретация: меняется старший бит четвёртого блока (0 → первая
подсеть, 8 → вторая подсеть), то есть мы используем именно поле
идентификатора подсети.</p>
<h3
id="разбиение-на-2-подсети-с-использованием-идентификатора-интерфейса">Разбиение
на 2 подсети с использованием идентификатора интерфейса</h3>
<p>Теперь внутри одной из /64-подсетей сделаем разбиение по битам
идентификатора интерфейса.<br />
Сначала выберем одну /64 внутри исходного /48, например:</p>
<ul>
<li>2001:db8:c0de:1::/64</li>
</ul>
<p>В этой сети биты 65–128 образуют идентификатор интерфейса.<br />
Добавим один бит к префиксу: получим две /65-подсети, отличающиеся
старшим битом интерфейсного идентификатора:</p>
<ol type="1">
<li>Подсеть A (старший бит интерфейсного ID = 0):
<ul>
<li>Адрес сети: 2001:db8:c0de:1:0000:0000:0000:0000/65<br />
</li>
<li>Краевые адреса:
<ul>
<li>минимальный: 2001:db8:c0de:1:0:0:0:0<br />
</li>
<li>максимальный: 2001:db8:c0de:1:7fff:ffff:ffff:ffff</li>
</ul></li>
</ul></li>
<li>Подсеть B (старший бит интерфейсного ID = 1):
<ul>
<li>Адрес сети: 2001:db8:c0de:1:8000:0000:0000:0000/65<br />
</li>
<li>Краевые адреса:
<ul>
<li>минимальный: 2001:db8:c0de:1:8000:0:0:0<br />
</li>
<li>максимальный: 2001:db8:c0de:1:ffff:ffff:ffff:ffff</li>
</ul></li>
</ul></li>
</ol>
<p>Интерпретация: префикс /64 остаётся одним и тем же с точки зрения
глобального маршрутизирования (одно значение идентификатора подсети
<code>…:1:</code>), но мы «одалживаем» один бит из зоны интерфейсного ID
и превращаем его в дополнительный бит префикса. Так получаются две
меньшие подсети /65 внутри одной «классической» /64-подсети.</p>
<h2 id="сеть-2a026b864">Сеть 2a02:6b8::/64</h2>
<h3 id="характеристика-исходной-сети-1">Характеристика исходной
сети</h3>
<p>Адрес в полной форме:</p>
<ul>
<li>2a02:06b8:0000:0000:0000:0000:0000:0000</li>
</ul>
<p>Параметры сети:</p>
<ul>
<li>Префикс: /64<br />
</li>
<li>Маска: 64 единицы и 64 нуля<br />
</li>
<li>Часть сети: первые четыре блока —
<code>2a02:06b8:0000:0000</code><br />
</li>
<li>Диапазон адресов внутри префикса:
<ul>
<li>минимальный: 2a02:6b8:0:0:0:0:0:0<br />
</li>
<li>максимальный: 2a02:6b8:0:0:ffff:ffff:ffff:ffff</li>
</ul></li>
</ul>
<p>Это «типичный» размер IPv6-подсети для локальной сети: /64.</p>
<figure id="fig:001">
<img src="image/9.png" style="width:80.0%"
alt="характеристика IPv4-подсети" />
<figcaption aria-hidden="true">характеристика IPv4-подсети</figcaption>
</figure>
<h3
id="разбиение-на-2-подсети-с-использованием-идентификатора-подсети-1">Разбиение
на 2 подсети с использованием идентификатора подсети</h3>
<p>Формально, при классическом планировании IPv6 биты 65–128 считаются
идентификатором интерфейса.<br />
Но мы можем «одолжить» один из этих битов и интерпретировать его как
дополнительный бит идентификатора подсети, т.е. увеличить длину префикса
до /65.</p>
<p>Получим две подсети /65:</p>
<ol type="1">
<li>Подсеть 1:
<ul>
<li>Адрес сети: 2a02:6b8:0:0:0000:0000:0000:0000/65 (часто записывают
просто 2a02:6b8::/65)<br />
</li>
<li>Диапазон адресов:
<ul>
<li>от 2a02:6b8:0:0:0:0:0:0<br />
</li>
<li>до 2a02:6b8:0:0:7fff:ffff:ffff:ffff</li>
</ul></li>
</ul></li>
<li>Подсеть 2:
<ul>
<li>Адрес сети: 2a02:6b8:0:0:8000:0000:0000:0000/65<br />
</li>
<li>Диапазон адресов:
<ul>
<li>от 2a02:6b8:0:0:8000:0:0:0<br />
</li>
<li>до 2a02:6b8:0:0:ffff:ffff:ffff:ffff</li>
</ul></li>
</ul></li>
</ol>
<figure id="fig:001">
<img src="image/10.png" style="width:80.0%" alt="разбиение" />
<figcaption aria-hidden="true">разбиение</figcaption>
</figure>
<p>Интерпретация: мы «разрезали» /64 на две части, использовав старший
бит интерфейсного ID как дополнительный бит сети — то есть превратили
его в часть идентификатора подсети.</p>
<h3
id="разбиение-на-2-подсети-с-использованием-идентификатора-интерфейса-1">Разбиение
на 2 подсети с использованием идентификатора интерфейса</h3>
<p>Во втором варианте сам префикс /64 не изменяется: с точки зрения
маршрутизаторов это по-прежнему одна сеть 2a02:6b8::/64.<br />
Однако мы логически делим пространство интерфейсных идентификаторов,
например, по старшему байту или старшему слову.</p>
<p>Пример:</p>
<ul>
<li>Подсеть A (условно «подсеть» по интерфейсному ID):
<ul>
<li>используем интерфейсные идентификаторы в диапазоне<br />
0000:0000:0000:0000 – 7fff:ffff:ffff:ffff</li>
</ul></li>
<li>Подсеть B:
<ul>
<li>используем интерфейсные идентификаторы в диапазоне<br />
8000:0000:0000:0000 – ffff:ffff:ffff:ffff</li>
</ul></li>
</ul>
<p>Если закрепить за каждой такой группой, например, отдельный VLAN или
отдельный пул адресов на DHCPv6-сервере, то на уровне хостов получится
два логических сегмента, хотя маршрутизатор видит один и тот же префикс
/64.</p>
<h1 id="выполнение">Выполнение</h1>
<h2
id="настройка-двойного-стека-адресации-ipv4-и-ipv6-в-локальной-сети">Настройка
двойного стека адресации IPv4 и IPv6 в локальной сети</h2>
<p>В рабочем пространстве GNS3 была развёрнута сеть согласно заданной
топологии.<br />
После размещения оборудования каждому устройству были назначены имена по
требуемому формату.<br />
Итоговая схема проекта представлена ниже:</p>
<figure id="fig:001">
<img src="image/11.png" style="width:80.0%"
alt="Топология лабораторного стенда" />
<figcaption aria-hidden="true">Топология лабораторного
стенда</figcaption>
</figure>
<p>На ПК1 была выполнена настройка адреса из подсети
172.16.20.0/25.<br />
Команда <code>show ip</code> подтверждает корректное назначение
параметров, включая шлюз 172.16.20.1.<br />
Также выведена конфигурация IPv6.</p>
<figure id="fig:002">
<img src="image/12.png" style="width:75.0%" alt="Конфигурация PC1" />
<figcaption aria-hidden="true">Конфигурация PC1</figcaption>
</figure>
<p>ПК2 настроен в подсети 172.16.20.128/25 с адресом
172.16.20.138.<br />
Вывод IPv4 и IPv6 подтверждает корректность параметров.</p>
<figure id="fig:003">
<img src="image/13.png" style="width:75.0%" alt="Конфигурация PC2" />
<figcaption aria-hidden="true">Конфигурация PC2</figcaption>
</figure>
<p>Сервер получил адрес в сети 64.100.1.0/24.<br />
Вывод <code>show ip</code> демонстрирует корректную установку адреса и
шлюза.</p>
<figure id="fig:004">
<img src="image/14.png" style="width:75.0%"
alt="Конфигурация сервера" />
<figcaption aria-hidden="true">Конфигурация сервера</figcaption>
</figure>
<p>На маршрутизаторе FRR выполнено назначение имени хоста и настройка
трёх интерфейсов:</p>
<ul>
<li>eth0: 172.16.20.1/25<br />
</li>
<li>eth1: 172.16.20.129/25<br />
</li>
<li>eth2: 64.100.1.1/24</li>
</ul>
<p>Все интерфейсы были активированы.</p>
<figure id="fig:005">
<img src="image/15.png" style="width:80.0%"
alt="Процесс настройки интерфейсов FRR" />
<figcaption aria-hidden="true">Процесс настройки интерфейсов
FRR</figcaption>
</figure>
<p>Конфигурация маршрутизатора отображается через
<code>show running-config</code>.</p>
<figure id="fig:006">
<img src="image/16.png" style="width:70.0%"
alt="Вывод running-config" />
<figcaption aria-hidden="true">Вывод running-config</figcaption>
</figure>
<p>Команда <code>show interface brief</code> показывает состояние и
назначенные адреса.</p>
<figure id="fig:007">
<img src="image/17.png" style="width:70.0%"
alt="Информация об интерфейсах FRR" />
<figcaption aria-hidden="true">Информация об интерфейсах
FRR</figcaption>
</figure>
<p>PC1 успешно отправляет:</p>
<ul>
<li>ICMP-эхо-запросы на PC2 (172.16.20.138),</li>
<li>ICMP-эхо-запросы на сервер (64.100.1.10).</li>
</ul>
<p>Трассировка маршрута показывает прохождение трафика через FRR.</p>
<figure id="fig:008">
<img src="image/18.png" style="width:80.0%" alt="Ping и trace с PC1" />
<figcaption aria-hidden="true">Ping и trace с PC1</figcaption>
</figure>
<p>На линии между сервером и коммутатором был включён захват
трафика.<br />
Фиксируются ARP-запросы, ICMP-эхо-запросы и ответы.</p>
<p>На фрагменте виден запрос «Who has 64.100.1.10? Tell 64.100.1.1».</p>
<figure id="fig:009">
<img src="image/18.png" style="width:90.0%" alt="ARP-трафик" />
<figcaption aria-hidden="true">ARP-трафик</figcaption>
</figure>
<p>В соответствии с таблицей 6.6 на узлы подсети IPv6 были назначены
глобальные адреса.</p>
<p>Узлу PC3 назначен адрес из подсети
<code>2001:db8:c0de:12::/64</code>.<br />
Команды <code>show ip</code> и <code>show ipv6</code> отображают
отсутствие IPv4-конфигурации и наличие корректного глобального
IPv6-адреса.</p>
<figure id="fig:011">
<img src="image/19.png" style="width:75.0%" alt="Конфигурация PC3" />
<figcaption aria-hidden="true">Конфигурация PC3</figcaption>
</figure>
<p>ПК4 получил IPv6-адрес из подсети
<code>2001:db8:c0de:13::/64</code>.<br />
Вывод показывает только IPv6-конфигурацию, аналогично PC3.</p>
<figure id="fig:012">
<img src="image/20.png" style="width:75.0%" alt="Конфигурация PC4" />
<figcaption aria-hidden="true">Конфигурация PC4</figcaption>
</figure>
<p>Сервер имеет два стека адресации:<br />
IPv4 — ранее настроена в подсети 64.100.1.0/24,<br />
IPv6 — адрес из подсети <code>2001:db8:c0de:11::/64</code>.</p>
<figure id="fig:013">
<img src="image/21.png" style="width:75.0%"
alt="IPv6-конфигурация сервера" />
<figcaption aria-hidden="true">IPv6-конфигурация сервера</figcaption>
</figure>
<p>После установки VyOS и изменения имени хоста выполнялась настройка
трёх интерфейсов маршрутизатора.<br />
Каждый интерфейс получил адрес и был включён в RA-сервис для
автоматической раздачи префиксов.</p>
<figure id="fig:014">
<img src="image/22.png" style="width:85.0%"
alt="Назначение IPv6-адресов на VyOS" />
<figcaption aria-hidden="true">Назначение IPv6-адресов на
VyOS</figcaption>
</figure>
<p>После применения конфигурации был выполнен просмотр интерфейсов.</p>
<figure id="fig:015">
<img src="image/23.png" style="width:70.0%"
alt="Вывод show interfaces на VyOS" />
<figcaption aria-hidden="true">Вывод show interfaces на
VyOS</figcaption>
</figure>
<p>PC4 успешно отправляет ICMPv6-эхо-запросы к узлам:</p>
<ul>
<li>PC3: <code>2001:db8:c0de:12::a</code></li>
<li>Server: <code>2001:db8:c0de:11::a</code></li>
</ul>
<p>При этом доступ к IPv4-адресам недоступен — что соответствует
требованиям разделения подсетей.</p>
<figure id="fig:016">
<img src="image/24.png" style="width:80.0%" alt="Ping и trace с PC4" />
<figcaption aria-hidden="true">Ping и trace с PC4</figcaption>
</figure>
<h2 id="задание-для-самостоятельного-выполнения">Задание для
самостоятельного выполнения</h2>
<p>Для топологии заданы две локальные подсети — каждая содержит как
IPv4-, так и IPv6-адресное пространство.</p>
<p>Подсеть 1 - IPv4: <strong>10.10.1.96/27</strong><br />
Размер подсети — 32 адреса.<br />
Диапазон:<br />
• сеть: 10.10.1.96<br />
• usable: 10.10.1.97 – 10.10.1.126<br />
• broadcast: 10.10.1.127</p>
<ul>
<li>IPv6: <strong>2001:db8:1:1::/64</strong><br />
Диапазон адресов: 2001:db8:1:1:: – 2001:db8:1:1:ffff:ffff:ffff:ffff</li>
</ul>
<p>Подсеть 2 - IPv4: <strong>10.10.1.16/28</strong><br />
Размер подсети — 16 адресов.<br />
Диапазон:<br />
• сеть: 10.10.1.16<br />
• usable: 10.10.1.17 – 10.10.1.30<br />
• broadcast: 10.10.1.31</p>
<ul>
<li>IPv6: <strong>2001:db8:1:4::/64</strong><br />
Диапазон адресов: 2001:db8:1:4:: – 2001:db8:1:4:ffff:ffff:ffff:ffff</li>
</ul>
<p>Для интерфейсов маршрутизатора используются <strong>минимальные
доступные адреса</strong>.</p>
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 12%" />
<col style="width: 20%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr>
<th>Устройство</th>
<th>Интерфейс</th>
<th>IPv4-адрес</th>
<th>Маска</th>
<th>IPv6-адрес</th>
<th>Префикс</th>
</tr>
</thead>
<tbody>
<tr>
<td>msk-trseidaliev-gw-01</td>
<td>eth0</td>
<td>10.10.1.97</td>
<td>/27</td>
<td>2001:db8:1:1::1</td>
<td>/64</td>
</tr>
<tr>
<td>msk-trseidaliev-gw-01</td>
<td>eth1</td>
<td>10.10.1.17</td>
<td>/28</td>
<td>2001:db8:1:4::1</td>
<td>/64</td>
</tr>
<tr>
<td>PC1</td>
<td>vpcs</td>
<td>10.10.1.100</td>
<td>/27</td>
<td>2001:db8:1:1::a</td>
<td>/64</td>
</tr>
<tr>
<td>PC2</td>
<td>vpcs</td>
<td>10.10.1.20</td>
<td>/28</td>
<td>2001:db8:1:4::a</td>
<td>/64</td>
</tr>
</tbody>
</table>
<p>PC1 Настроенные IPv4 и IPv6 отображаются в выводе:</p>
<figure id="fig:019">
<img src="image/25.png" style="width:75.0%" alt="PC1 вывод show ip" />
<figcaption aria-hidden="true">PC1 вывод show ip</figcaption>
</figure>
<p>Для PC2 настроены адреса второй подсети:</p>
<figure id="fig:020">
<img src="image/26.png" style="width:75.0%" alt="PC2 вывод show ip" />
<figcaption aria-hidden="true">PC2 вывод show ip</figcaption>
</figure>
<p>Используемая схема сети:</p>
<figure id="fig:021">
<img src="image/27.png" style="width:70.0%" alt="Топология сети" />
<figcaption aria-hidden="true">Топология сети</figcaption>
</figure>
<p>Маршрутизатор установлен и переведён в режим конфигурирования.<br />
Для каждого интерфейса заданы IPv4 и IPv6-адреса, соответствующие
минимальным адресам подсети.</p>
<figure id="fig:022">
<img src="image/28.png" style="width:80.0%"
alt="Настройка VyOS интерфейсов" />
<figcaption aria-hidden="true">Настройка VyOS интерфейсов</figcaption>
</figure>
<p>PC1 успешно пингует:</p>
<ul>
<li>PC2 по IPv4: 10.10.1.20<br />
</li>
<li>PC2 по IPv6: 2001:db8:1:4::a</li>
</ul>
<p>Связность между подсетями обеспечивается только через
маршрутизатор.</p>
<figure id="fig:025">
<img src="image/29.png" style="width:70.0%" alt="Проверка IPv4 с PC1" />
<figcaption aria-hidden="true">Проверка IPv4 с PC1</figcaption>
</figure>
<h1 id="заключение">Заключение</h1>
<p>В ходе выполнения работы:</p>
<ul>
<li>выполнено детальное разбиение IPv4- и IPv6-адресных пространств на
подсети с расчётом масок, префиксов, диапазонов адресов и краевых
значений;</li>
<li>разработаны таблицы адресации для всех вариантов разбиения, включая
выбор минимальных адресов для интерфейсов маршрутизаторов;</li>
<li>настроены IPv4- и IPv6-адреса на конечных узлах и маршрутизаторах
VyOS в соответствии с заданными топологиями;</li>
<li>проверена работоспособность сетей с помощью утилит <code>ping</code>
и <code>trace</code>, подтверждена корректность маршрутизации и изоляции
подсетей;</li>
<li>выполнен анализ трафика ICMPv4 и ICMPv6 в Wireshark, подтверждающий
правильность функционирования адресного стека и соседских
взаимодействий;</li>
<li>обеспечена корректная работа двойного стека IPv4/IPv6, включая
взаимодействие сервера с обеими подсетями и изоляцию сетей разного
протокола.</li>
</ul>
<p>Работа позволила закрепить навыки разбиения адресных пространств,
настройки маршрутизаторов и анализа сетевого трафика в среде
виртуального моделирования.</p>
